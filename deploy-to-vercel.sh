#!/bin/bash

echo \"üöÄ TTI App - Quick Deployment to Vercel\"\necho \"\"\n\n# Check if vercel CLI is installed\nif ! command -v vercel &> /dev/null; then\n    echo \"‚ùå Vercel CLI not found. Installing...\"\n    npm i -g vercel\nfi\n\necho \"üìã Pre-deployment checklist:\"\necho \"\"\n\n# Run deployment readiness check\nif ! ./check-deployment-readiness.sh; then\n    echo \"\"\n    echo \"‚ùå Deployment readiness check failed. Please fix issues above.\"\n    exit 1\nfi\n\necho \"\"\necho \"‚úÖ All checks passed!\"\necho \"\"\n\n# Ask for deployment confirmation\nread -p \"Do you want to deploy the frontend to Vercel? (y/n) \" -n 1 -r\necho \"\"\n\nif [[ ! $REPLY =~ ^[Yy]$ ]]; then\n    echo \"Deployment cancelled.\"\n    exit 0\nfi\n\necho \"\"\necho \"üì¶ Deploying frontend to Vercel...\"\necho \"\"\n\ncd frontend\n\n# Check if REACT_APP_BACKEND_URL is set\nif [ -z \"$REACT_APP_BACKEND_URL\" ]; then\n    echo \"‚ö†Ô∏è  REACT_APP_BACKEND_URL not set.\"\n    read -p \"Enter your backend URL (e.g., https://your-backend.railway.app): \" BACKEND_URL\n    export REACT_APP_BACKEND_URL=$BACKEND_URL\n    echo \"\"\n    echo \"Setting REACT_APP_BACKEND_URL=$BACKEND_URL\"\nfi\n\necho \"\"\necho \"üî® Building frontend...\"\nyarn build\n\nif [ $? -ne 0 ]; then\n    echo \"‚ùå Build failed. Please fix errors above.\"\n    exit 1\nfi\n\necho \"\"\necho \"üöÄ Deploying to Vercel...\"\nvercel --prod\n\nif [ $? -eq 0 ]; then\n    echo \"\"\n    echo \"‚úÖ Deployment successful!\"\n    echo \"\"\n    echo \"üìù Next steps:\"\n    echo \"1. Set REACT_APP_BACKEND_URL in Vercel dashboard\"\n    echo \"2. Seed your database (see DEPLOYMENT_GUIDE.md)\"\n    echo \"3. Test your application\"\n    echo \"\"\nelse\n    echo \"‚ùå Deployment failed. Check logs above.\"\n    exit 1\nfi\n